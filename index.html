<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç‹—è¿·å®« - å„¿ç«¥è¿·å®«æ¸¸æˆ</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.game-container {
    background: white;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    text-align: center;
    max-width: 500px;
    width: 100%;
}

h1 {
    color: #333;
    margin-bottom: 20px;
    font-size: 1.8rem;
}

.maze-selector {
    margin-bottom: 20px;
}

.maze-selector label {
    font-size: 1rem;
    color: #555;
    margin-right: 10px;
}

.maze-selector select {
    padding: 8px 15px;
    font-size: 1rem;
    border: 2px solid #667eea;
    border-radius: 8px;
    background: white;
    cursor: pointer;
}

.maze-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 5px;
    margin: 20px auto;
    max-width: 320px;
    background: #ddd;
    padding: 10px;
    border-radius: 10px;
}

.cell {
    aspect-ratio: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2rem;
    border-radius: 8px;
    background: #f0f0f0;
    transition: transform 0.2s;
}

.cell.wall {
    background: #333;
}

.cell.path {
    background: #90EE90;
}

.cell.dog {
    background: #FF6347;
    animation: bounce 0.5s infinite alternate;
    box-shadow: 0 0 10px rgba(255, 99, 71, 0.8);
}

.cell.prize {
    background: #FF69B4;
}

@keyframes bounce {
    from { transform: scale(1); }
    to { transform: scale(1.1); }
}

.controls {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.horizontal-controls {
    display: flex;
    gap: 5px;
}

.control-btn {
    width: 60px;
    height: 60px;
    font-size: 1.5rem;
    border: none;
    border-radius: 10px;
    background: #667eea;
    color: white;
    cursor: pointer;
    transition: transform 0.1s, background 0.2s;
}

.control-btn:hover {
    background: #5a6fd6;
}

.control-btn:active {
    transform: scale(0.95);
}

.instructions {
    margin-top: 15px;
    color: #666;
    font-size: 0.9rem;
}

.dialog {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 100;
}

.dialog.hidden {
    display: none;
}

.dialog-content {
    background: white;
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    animation: pop 0.3s ease-out;
}

@keyframes pop {
    from { transform: scale(0.5); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.dialog-content h2 {
    color: #667eea;
    font-size: 2rem;
    margin-bottom: 15px;
}

.dialog-content p {
    color: #555;
    margin-bottom: 20px;
    font-size: 1.1rem;
}

.dialog-content button {
    padding: 12px 30px;
    font-size: 1.1rem;
    border: none;
    border-radius: 10px;
    background: #667eea;
    color: white;
    cursor: pointer;
    transition: background 0.2s;
}

.dialog-content button:hover {
    background: #5a6fd6;
}

/* Responsive Design for Mobile */
@media (max-width: 480px) {
    .game-container {
        padding: 15px;
    }
    
    h1 {
        font-size: 1.4rem;
    }
    
    .maze-grid {
        max-width: 280px;
    }
    
    .cell {
        font-size: 1.5rem;
    }
    
    .control-btn {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
    }
}

/* Tablet styles */
@media (min-width: 481px) and (max-width: 768px) {
    .maze-grid {
        max-width: 350px;
    }
}
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ• å°ç‹—æ‰¾å¥–å“ ğŸ†</h1>
        <div class="maze-selector">
            <label for="maze-select">é€‰æ‹©è¿·å®«ï¼š</label>
            <select id="maze-select"></select>
        </div>
        <div id="maze-grid" class="maze-grid"></div>
        <div class="controls">
            <button class="control-btn" id="btn-up">â¬†ï¸</button>
            <div class="horizontal-controls">
                <button class="control-btn" id="btn-left">â¬…ï¸</button>
                <button class="control-btn" id="btn-down">â¬‡ï¸</button>
                <button class="control-btn" id="btn-right">â¡ï¸</button>
            </div>
        </div>
        <p class="instructions">ç”¨æ–¹å‘é”®æˆ–ç‚¹å‡»æŒ‰é’®ç§»åŠ¨å°ç‹—åˆ°å¥–å“å¤„ï¼</p>
    </div>
    <div id="win-dialog" class="dialog hidden">
        <div class="dialog-content">
            <h2>ğŸ‰ å¤ªæ£’äº†ï¼ğŸ‰</h2>
            <p id="win-message">ä½ çœŸèªæ˜ï¼æˆåŠŸå¸®å°ç‹—æ‰¾åˆ°äº†å¥–å“ï¼</p>
            <button id="play-again">å†ç©ä¸€æ¬¡</button>
        </div>
    </div>
    <script>
// 30 predefined mazes for the game
// 0 = path, 1 = wall, 2 = dog (start), 3 = prize (end)
const mazes = [
    // Maze 1 - Very Easy
    [
        [2, 0, 0, 0, 3],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]
    ],
    // Maze 2 - Easy
    [
        [2, 0, 1, 0, 0],
        [0, 0, 1, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 1, 0, 0],
        [0, 0, 1, 0, 3]
    ],
    // Maze 3
    [
        [2, 0, 0, 0, 0],
        [1, 1, 1, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 1, 1, 1],
        [0, 0, 0, 0, 3]
    ],
    // Maze 4
    [
        [2, 0, 0, 1, 0],
        [0, 1, 0, 1, 0],
        [0, 1, 0, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 0, 0, 0, 3]
    ],
    // Maze 5
    [
        [0, 0, 2, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 0, 3, 0, 0]
    ],
    // Maze 6
    [
        [2, 1, 0, 0, 0],
        [0, 1, 0, 1, 0],
        [0, 0, 0, 1, 0],
        [0, 1, 1, 1, 0],
        [0, 0, 0, 0, 3]
    ],
    // Maze 7
    [
        [2, 0, 0, 0, 0],
        [1, 1, 1, 0, 1],
        [0, 0, 0, 0, 0],
        [1, 0, 1, 1, 1],
        [3, 0, 0, 0, 0]
    ],
    // Maze 8
    [
        [0, 0, 2, 0, 0],
        [0, 1, 0, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 0, 1, 0],
        [0, 0, 3, 0, 0]
    ],
    // Maze 9
    [
        [2, 0, 1, 0, 3],
        [0, 0, 1, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 1, 0, 0],
        [0, 0, 1, 0, 0]
    ],
    // Maze 10
    [
        [2, 0, 0, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 1, 3, 1, 0],
        [0, 1, 0, 1, 0],
        [0, 0, 0, 0, 0]
    ],
    // Maze 11
    [
        [0, 0, 0, 0, 2],
        [0, 1, 1, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 1, 1, 0],
        [3, 0, 0, 0, 0]
    ],
    // Maze 12
    [
        [2, 1, 0, 0, 0],
        [0, 0, 0, 1, 0],
        [0, 1, 0, 0, 0],
        [0, 0, 0, 1, 0],
        [0, 1, 0, 0, 3]
    ],
    // Maze 13
    [
        [2, 0, 0, 0, 0],
        [0, 0, 1, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 0, 1, 0, 0],
        [0, 0, 0, 0, 3]
    ],
    // Maze 14
    [
        [0, 2, 0, 0, 0],
        [0, 0, 0, 1, 0],
        [1, 1, 0, 1, 0],
        [0, 0, 0, 1, 0],
        [0, 0, 0, 0, 3]
    ],
    // Maze 15
    [
        [2, 0, 0, 1, 0],
        [1, 1, 0, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 0, 1, 1],
        [0, 1, 0, 0, 3]
    ],
    // Maze 16
    [
        [0, 0, 0, 0, 2],
        [1, 1, 0, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 0, 1, 1],
        [3, 0, 0, 0, 0]
    ],
    // Maze 17
    [
        [2, 0, 0, 0, 0],
        [1, 0, 1, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 1, 0, 1],
        [0, 0, 0, 0, 3]
    ],
    // Maze 18
    [
        [3, 0, 0, 0, 0],
        [1, 1, 1, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 1, 1, 1],
        [0, 0, 0, 0, 2]
    ],
    // Maze 19
    [
        [2, 0, 1, 0, 0],
        [0, 0, 1, 0, 0],
        [0, 0, 0, 0, 1],
        [0, 0, 1, 0, 0],
        [0, 0, 1, 0, 3]
    ],
    // Maze 20
    [
        [0, 1, 0, 0, 2],
        [0, 1, 0, 1, 0],
        [0, 0, 0, 0, 0],
        [0, 1, 0, 1, 0],
        [3, 1, 0, 0, 0]
    ],
    // Maze 21
    [
        [2, 0, 0, 0, 0],
        [0, 1, 0, 1, 0],
        [0, 1, 0, 1, 0],
        [0, 1, 0, 1, 0],
        [0, 0, 0, 0, 3]
    ],
    // Maze 22
    [
        [0, 0, 2, 0, 0],
        [1, 0, 0, 0, 1],
        [1, 0, 0, 0, 1],
        [1, 0, 0, 0, 1],
        [0, 0, 3, 0, 0]
    ],
    // Maze 23
    [
        [2, 0, 0, 1, 0],
        [0, 0, 0, 0, 0],
        [1, 1, 0, 1, 1],
        [0, 0, 0, 0, 0],
        [0, 1, 0, 0, 3]
    ],
    // Maze 24
    [
        [0, 0, 0, 0, 2],
        [0, 1, 1, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 1, 1, 0],
        [3, 0, 0, 0, 0]
    ],
    // Maze 25
    [
        [2, 0, 0, 0, 0],
        [0, 0, 1, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 0, 1, 0, 0],
        [0, 0, 0, 0, 3]
    ],
    // Maze 26
    [
        [0, 1, 0, 1, 2],
        [0, 0, 0, 0, 0],
        [0, 1, 0, 1, 0],
        [0, 0, 0, 0, 0],
        [3, 1, 0, 1, 0]
    ],
    // Maze 27
    [
        [2, 0, 0, 0, 0],
        [1, 1, 0, 1, 0],
        [0, 0, 0, 1, 0],
        [0, 1, 0, 0, 0],
        [0, 1, 1, 1, 3]
    ],
    // Maze 28
    [
        [0, 0, 1, 0, 2],
        [0, 0, 1, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 1, 0, 0],
        [3, 0, 1, 0, 0]
    ],
    // Maze 29
    [
        [2, 0, 0, 1, 3],
        [0, 1, 0, 1, 0],
        [0, 1, 0, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 0, 0, 0, 0]
    ],
    // Maze 30
    [
        [0, 0, 0, 0, 0],
        [0, 1, 1, 1, 0],
        [0, 1, 3, 0, 0],
        [0, 1, 1, 1, 0],
        [2, 0, 0, 0, 0]
    ]
];

// Encouraging messages in Chinese
const encourageMessages = [
    "å¤ªæ£’äº†ï¼ä½ çœŸæ˜¯ä¸ªèªæ˜çš„å°æœ‹å‹ï¼",
    "å“‡ï¼ä½ æˆåŠŸäº†ï¼ä½ çœŸå‰å®³ï¼",
    "çœŸæ£’ï¼å°ç‹—å¾ˆé«˜å…´æ‰¾åˆ°äº†å¥–å“ï¼",
    "ä½ å¤ªèªæ˜äº†ï¼ç»§ç»­åŠ æ²¹ï¼",
    "å¥½å‰å®³ï¼ä½ æ˜¯è¿·å®«å°é«˜æ‰‹ï¼",
    "æˆåŠŸå•¦ï¼ä½ çœŸæ˜¯å¤ªä¼˜ç§€äº†ï¼",
    "æ­å–œä½ ï¼å°ç‹—éå¸¸å¼€å¿ƒï¼",
    "ä½ åšåˆ°äº†ï¼çœŸäº†ä¸èµ·ï¼"
];

let currentMaze = 0;
let dogPosition = { row: 0, col: 0 };
let prizePosition = { row: 0, col: 0 };
let gameGrid = [];

// Initialize the game
function init() {
    populateMazeSelector();
    loadMaze(currentMaze);
    setupControls();
}

// Populate the maze selector dropdown
function populateMazeSelector() {
    const select = document.getElementById('maze-select');
    for (let i = 0; i < mazes.length; i++) {
        const option = document.createElement('option');
        option.value = i;
        option.textContent = `è¿·å®« ${i + 1}`;
        select.appendChild(option);
    }
    select.addEventListener('change', (e) => {
        currentMaze = parseInt(e.target.value);
        loadMaze(currentMaze);
    });
}

// Load a specific maze
function loadMaze(mazeIndex) {
    // Deep copy the maze
    gameGrid = mazes[mazeIndex].map(row => [...row]);
    
    // Find dog and prize positions
    for (let row = 0; row < 5; row++) {
        for (let col = 0; col < 5; col++) {
            if (gameGrid[row][col] === 2) {
                dogPosition = { row, col };
            } else if (gameGrid[row][col] === 3) {
                prizePosition = { row, col };
            }
        }
    }
    
    renderMaze();
}

// Render the maze grid
function renderMaze() {
    const mazeElement = document.getElementById('maze-grid');
    mazeElement.innerHTML = '';
    
    for (let row = 0; row < 5; row++) {
        for (let col = 0; col < 5; col++) {
            const cell = document.createElement('div');
            cell.className = 'cell';
            
            const value = gameGrid[row][col];
            if (value === 1) {
                cell.classList.add('wall');
                cell.textContent = 'ğŸ§±';
            } else if (value === 2) {
                cell.classList.add('dog');
                cell.textContent = 'ğŸ•';
            } else if (value === 3) {
                cell.classList.add('prize');
                cell.textContent = 'ğŸ†';
            } else {
                cell.classList.add('path');
            }
            
            mazeElement.appendChild(cell);
        }
    }
}

// Setup game controls
function setupControls() {
    // Button controls
    document.getElementById('btn-up').addEventListener('click', () => moveDog(-1, 0));
    document.getElementById('btn-down').addEventListener('click', () => moveDog(1, 0));
    document.getElementById('btn-left').addEventListener('click', () => moveDog(0, -1));
    document.getElementById('btn-right').addEventListener('click', () => moveDog(0, 1));
    
    // Keyboard controls
    document.addEventListener('keydown', (e) => {
        switch(e.key) {
            case 'ArrowUp':
                e.preventDefault();
                moveDog(-1, 0);
                break;
            case 'ArrowDown':
                e.preventDefault();
                moveDog(1, 0);
                break;
            case 'ArrowLeft':
                e.preventDefault();
                moveDog(0, -1);
                break;
            case 'ArrowRight':
                e.preventDefault();
                moveDog(0, 1);
                break;
        }
    });
    
    // Play again button
    document.getElementById('play-again').addEventListener('click', () => {
        document.getElementById('win-dialog').classList.add('hidden');
        // Go to next maze or loop back to first
        currentMaze = (currentMaze + 1) % mazes.length;
        document.getElementById('maze-select').value = currentMaze;
        loadMaze(currentMaze);
    });
}

// Move the dog
function moveDog(rowDelta, colDelta) {
    const newRow = dogPosition.row + rowDelta;
    const newCol = dogPosition.col + colDelta;
    
    // Check boundaries
    if (newRow < 0 || newRow >= 5 || newCol < 0 || newCol >= 5) {
        return;
    }
    
    // Check for wall
    if (gameGrid[newRow][newCol] === 1) {
        return;
    }
    
    // Move the dog
    gameGrid[dogPosition.row][dogPosition.col] = 0;
    dogPosition.row = newRow;
    dogPosition.col = newCol;
    
    // Check for win condition
    if (newRow === prizePosition.row && newCol === prizePosition.col) {
        gameGrid[newRow][newCol] = 2;
        renderMaze();
        showWinDialog();
        return;
    }
    
    gameGrid[newRow][newCol] = 2;
    renderMaze();
}

// Show the winning dialog
function showWinDialog() {
    const dialog = document.getElementById('win-dialog');
    const message = document.getElementById('win-message');
    
    // Select a random encouraging message
    const randomMessage = encourageMessages[Math.floor(Math.random() * encourageMessages.length)];
    message.textContent = randomMessage;
    
    dialog.classList.remove('hidden');
}

// Start the game when DOM is loaded
document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
